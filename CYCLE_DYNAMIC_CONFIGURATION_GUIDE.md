# دليل التكوين الديناميكي للدورات التعليمية

## نظرة عامة

تم تطوير نظام تكوين ديناميكي للدورات التعليمية يسمح بتخصيص كل دورة تعليمية (متوسط/ثانوي) بشكل مستقل مع عرض ديناميكي لأسماء المؤسسات في جميع أنحاء التطبيق.

## المشكلة التي تم حلها

كانت المشكلة أن اسم المؤسسة "ادريس السنوسي" يظهر في الشريط الجانبي للدورة المتوسطة، بينما هذا الاسم مخصص للمؤسسة الثانوية. تم حل هذه المشكلة من خلال:

1. **تكوين ديناميكي للدورات**: كل دورة لها إعداداتها الخاصة
2. **عرض ديناميكي للأسماء**: استخدام `getCycleConfig(currentCycle).schoolName` بدلاً من القيم الثابتة
3. **فصل كامل للبيانات**: كل دورة تحتفظ ببياناتها منفصلة

## التحسينات المطبقة

### 1. تحديث الشريط الجانبي (Sidebar.tsx)
```typescript
// قبل التحديث
{currentCycle === 'متوسط' 
  ? settings.schoolName 
  : settings.highSchoolName
}

// بعد التحديث
{getCycleConfig(currentCycle).schoolName}
```

### 2. تحديث إدارة التقارير (Reports.tsx)
```typescript
// قبل التحديث
{currentCycle === 'ثانوي' ? 'مدير الثانوية' : 'مدير المتوسطة'}

// بعد التحديث
مدير {getCycleConfig(currentCycle).schoolName}
```

### 3. تحديث إدارة الاختبارات (TestManagement.tsx)
```typescript
// قبل التحديث
schoolType: 'المتوسطة'

// بعد التحديث
schoolType: getCycleConfig(currentCycle).schoolName
```

### 4. تحديث الإعدادات (Settings.tsx)
```typescript
// قبل التحديث
title: currentCycle === 'ثانوي' ? 'إعدادات الثانوية' : 'إعدادات المتوسطة'

// بعد التحديث
title: `إعدادات ${getCycleConfig(currentCycle).schoolName}`
```

## الميزات الجديدة

### 1. تكوين متقدم للدورات
- **المعلومات الأساسية**: اسم المؤسسة، السنة الأكاديمية، الحد الأقصى للطلاب
- **نظام التقييم**: حد أدنى، حد أقصى، درجة النجاح
- **المستويات**: قابلة للتخصيص لكل دورة
- **المواد**: مواد دراسية مخصصة لكل دورة
- **الميزات**: تفعيل/إلغاء تفعيل الوحدات
- **المظهر**: ألوان مخصصة لكل دورة

### 2. واجهة تكوين الدورات
- **CycleConfiguration**: واجهة شاملة لتكوين كل دورة
- **التحقق من صحة البيانات**: ضمان صحة الإدخال
- **إدارة المستويات**: إضافة/حذف المستويات ديناميكياً
- **تفعيل الميزات**: تحكم في الوحدات المتاحة

### 3. إدارة النسخ الاحتياطية
- **CycleBackupManager**: إدارة النسخ الاحتياطية لكل دورة
- **تصدير/استيراد منفصل**: كل دورة لها نسختها الاحتياطية
- **إحصائيات مفصلة**: معلومات عن البيانات المحفوظة
- **منطقة الخطر**: حذف آمن للبيانات

## كيفية الاستخدام

### 1. تكوين دورة جديدة
1. اذهب إلى **الإعدادات** → **تكوين الدورات التعليمية**
2. اختر الدورة المراد تكوينها
3. قم بتعديل الإعدادات حسب الحاجة
4. احفظ التغييرات

### 2. إدارة النسخ الاحتياطية
1. اذهب إلى **الإعدادات** → **النسخ الاحتياطية**
2. اختر الدورة المراد عمل نسخة احتياطية لها
3. اضغط **تصدير البيانات** لحفظ النسخة
4. أو اضغط **استيراد البيانات** لاستعادة نسخة سابقة

### 3. التبديل بين الدورات
- استخدم أزرار التبديل في الشريط الجانبي
- سيتم عرض اسم المؤسسة الصحيح لكل دورة تلقائياً

## الفوائد

1. **مرونة كاملة**: كل دورة قابلة للتخصيص بشكل مستقل
2. **عرض ديناميكي**: أسماء المؤسسات تظهر بشكل صحيح في كل مكان
3. **فصل البيانات**: لا توجد تداخلات بين الدورات
4. **سهولة الاستخدام**: واجهة بديهية للتكوين
5. **أمان البيانات**: نسخ احتياطية منفصلة لكل دورة

## الملفات المعدلة

- `src/contexts/CycleContext.tsx` - إضافة تكوين متقدم للدورات
- `src/components/Sidebar.tsx` - عرض ديناميكي لأسماء المؤسسات
- `src/components/Reports.tsx` - تحديث جميع المراجع الثابتة
- `src/components/TestManagement.tsx` - تكوين ديناميكي للاختبارات
- `src/components/Settings.tsx` - واجهة تكوين الدورات
- `src/components/CycleConfiguration.tsx` - مكون تكوين الدورات الجديد
- `src/components/CycleBackupManager.tsx` - مكون إدارة النسخ الاحتياطية

## الخلاصة

تم حل مشكلة العرض الثابت لأسماء المؤسسات من خلال تطبيق نظام تكوين ديناميكي شامل يسمح بتخصيص كل دورة تعليمية بشكل مستقل مع ضمان عرض الأسماء الصحيحة في جميع أنحاء التطبيق.